# Mobile App and Malware Classifications using Mobile usage and Time Dynamics

## About the Project: 
Malicious activities in mobile applications may affect the mobile usages and even leave security concerns in the mobile applications. For example, they may drain the batteries, use up CPU or memories, increase bandwidth utilization, and even steal our information. In this paper, we analyze the Sherlock data to explore the patterns in mobile usage by different types of the mobile apps and their benign or malicious status. These initial findings potentially are helpful to assist malware detections and usage warning. 

## Usage and Analysis
There are two major analytical work we are interested in. The ?rst one is usage analysis [19] in which we perform statistical tests to learn whether the mobile usages (i.e., the low-privileges features, such as CPU, memory, battery usages) are signi?cantly different among different apps , and whether they are different between the benign and malicious running state of each app. Furthermore, we try to correlate these patterns with the malware behavior (such as stealing information, photo theft, click-jacking, etc), and observe whether they are consistent. In addition, we exploit the temporal analysis, where we are particularly interested in how users use theseappsovertime,and whether there are different usage patterns among the apps. The malicious behaviors will be randomly simulated on the apps. It is higher possible to observe malicious activities if users use an app more frequently in a speci?c time period. These time dynamics may be helpful in the predictive tasks (i.e., app classi?cation and malware detetions) we are going to perform in our work.

### Data Sampling
There are 12 apps which simulate malicious activities, where we select 8 of them (i.e., Puzzle Game, Web Browser, Utilization Widget, Sports App, Game1, Game2, Music Player, Media Player) in our work, since the data related to other 4 apps is very limited. These mobile apps were released in different time, which results in different amount of the usage data associated with each app. It is also worth mentioning that the Moriarity agent records the sessions and also creates labels for them. A session is de?ned as a period that an app is running in a speci?c state, and each session is labeled with either “benign” or “malicious”. The duration of a session could be very short (e.g, less than 1 minute), or long (e.g., multiple hours). We sample the session data to obtain the average mobile usage per app per running state. We remove the sessions which are too short (i.e., less than 1 minute). Finally, our sample data contains 150,753 records (each record is associated with the app’s usage in CPU, memory ,battery and networks) which are involved with 932 sessions (around 928 hours in total) associated with the 8 apps that we selected. The sampling process tried to balance the records per app and per running states (i.e., benign and malicious) in order to alleviate the imbalance issue in the classi?cation tasks.

### Malware Detections
We have explicit labels associated with each running record, which enables us to transform the task of malware detection to a classi?cation process. More speci?cally, we have three predictivetasks :one is a multi-class app classi?cation ,in which we predict the type of the apps by given a set of features, such as mobile usage. Another one is a binary classi?cation (i.e., malware detection) in which we predict the running state of the apps (i.e., benign or malicious). The last one is the multi-label classi?cation in which we use the feature sets to predict the values in two labels (i.e.,appand the running state).The purpose of applying multi-label classi?cation is to examine whether the correlation between the two labels can be helpful to improve the predictions, since there are some multi-label classi?cation methods that can take the correlation between labels into consideration. In this section, we introduce the feature sets we build, evaluation settings and the experimental results.


## Conclusion
In this work, we take advantage of the Sherlock data, perform usage and temporal analysis, and further ?gure out the best feature sets and the classi?cation methods to predict the type of the apps and the running state. Our experimental results reveal that the temporal features are useful to improve the classi?cation performance signi?cantly. The most effective feature set is the usage statistics based on blocks but the size of the block should be appropriately selected. Random forest is identified as the best classifier in our experiments. LSTM failed to out perform the random forest, which may infer that there are no signi?cant sequential patterns in the running states. And the multi-label classi?cation methods which consider the correlation among labels failed to offer more improvements on the classi?cation results. In our future work, we will try to utilize the full large-scale data set instead of performing experiments by using a sampled data. In addition, we will exploit other ways to take advantage of the temporal features to further improve the predictive performance.







